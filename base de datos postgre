

CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(200) NOT NULL
);

CREATE TABLE flights (
    id SERIAL PRIMARY KEY,
    flight_number VARCHAR(20) NOT NULL,
    origin VARCHAR(50) NOT NULL,
    destination VARCHAR(50) NOT NULL,
    departure_time TIMESTAMP NOT NULL,
    arrival_time TIMESTAMP NOT NULL,
    seat_capacity INT NOT NULL
);

CREATE TYPE booking_status AS ENUM ('CONFIRMED', 'CANCELLED', 'PENDING');

CREATE TABLE bookings (
    id SERIAL PRIMARY KEY,
    booking_reference VARCHAR(20) UNIQUE,
    passenger_name VARCHAR(100) NOT NULL,
    booking_date TIMESTAMP NOT NULL,
    status booking_status NOT NULL,
    flight_id INT NOT NULL,
    user_id INT NOT NULL,

    CONSTRAINT fk_user FOREIGN KEY (user_id)
        REFERENCES users(id),
    CONSTRAINT fk_flight FOREIGN KEY (flight_id)
        REFERENCES flights(id)
);


FlightController

Método	Endpoint	            Parámetros	                            Descripción
GET	    /flights	            Ninguno	                                Obtener todos los vuelos
GET	    /flights/available	    Ninguno	                                Obtener vuelos disponibles
GET	    /flights/search	        departureCity, arrivalCity, maxPrice	Buscar vuelos con filtros
GET	    /flights/{id}	        id (path)	                            Obtener vuelo por ID
POST    /flights	            Body: FlightRequestDto               	Crear nuevo vuelo
PUT	    /flights/{id}	        id (path), Body: FlightRequestDto	    Actualizar vuelo existente
DELETE  /flights/{id}	        id (path)	                            Eliminar vuelo


UserController 

Método	 Endpoint	      Parámetros	                    Descripción
GET	     /users/{id}	  id (path)	                        Obtener usuario por ID
GET      /users	          Ninguno	                        Obtener todos los usuarios
POST	 /users	          Body: UserCreateDto	            Crear nuevo usuario
PUT	     /users/{id}	  id (path), Body: UserUpdateDto	Actualizar usuario existente
DELETE	 /users/{id}	  id (path)	                        Eliminar usuario


BookingController 

Método	Endpoint	                      Parámetros	                            Descripción
GET	    /bookings	                      Ninguno	                                Obtener todas las reservas
GET	    /bookings/user/{userId}	          userId (path)	                            Obtener reservas por usuario
GET	    /bookings/{id}	                  id (path)	                                Obtener reserva por ID
GET	    /bookings/reference/{reference}	  reference (path)   	                    Obtener reserva por referencia
POST	/bookings	                      Body: BookingRequestDto	                Crear nueva reserva
PUT	    /bookings/{id}/status	          id (path), Body: BookingStatusUpdateDto	Actualizar estado de reserva
DELETE	/bookings/{id}	                  id (path)	                                Eliminar reserva